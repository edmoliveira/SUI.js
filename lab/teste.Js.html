<!DOCTYPE html>
<html>
    <head>  
        <title>Form SUI.js</title>
        <script>
            var array = [1, 2, 3, 4, 5];
            
            var obj = new Object();
            
            obj.name = 'edson';
                        
            var class2 = {'c1': obj, 'c2': '2', 'c3': '3', 'c4': '4', 'c5': '5' };

            console.log('start');
            read(array);
            console.log('end');
            console.log('');
            console.log('');
            console.log('start');
            read(class2);
            console.log('end');

            function read(el) {
                for (var item in el) {
                    console.log(el[item]);
                }
            }
            
            var dataModel = class2;

            var model = new Object();
            model.__sui__ = new Object();
            
            var __suiA__ = new Object();

            for (var property in dataModel) {

                __suiA__[property] = dataModel[property];
                model.__sui__[property] = new ajaxPropertyModel(__suiA__, property);
                
                (function (mdl, prop) {
                    Object.defineProperty(mdl, prop, {
                        get: function () {
                            return mdl.__sui__[prop];
                        }
                    });
                })(model, property);
            }

            function ajaxPropertyModel(model, property) {
                this.get = function () {
                    return model[property];
                }

                this.set = function (v) {
                    model[property] = v;
                }
            };
            
            console.log(JSON.stringify(__suiA__));
        </script>
        <script>
//            

//            var req = new XMLHttpRequest();

//            req.open("GET", "html/form.html", false);
//            req.send(null);
//            console.log(req.responseText);

//        debugger
//            var xhttp = new XMLHttpRequest();
//            xhttp.onreadystatechange = function () {
//                if (this.readyState == 4 && this.status == 200) {
//                    //this.getResponseHeader("Last-Modified");
//                }
//            };
//            xhttp.open("get", "html/form.html", true);
//            xhttp.setRequestHeader("Content-Type", "application/json");
//            xhttp.send();

//            xhttp.onerror = function (XMLHttpRequest, textStatus, errorThrown) {
//                console.log('The data failed to load :(');
//                console.log(JSON.stringify(XMLHttpRequest));
//            };
//            xhttp.onload = function () {
//                console.log('SUCCESS!');
//            }
            //xhttp.send(JSON.stringify({ email: "John_Rambo@yahoo.com.br", password: "2pm" }));

            
            /*



            var baseCtrl = {
            self: null
            , addfn: function (fn) {
            this.self[fn.name] = function (action) {
            if (fn.model != undefined && fn.model != null) {debugger
            var mdl = new fn.model();

            if (action != null) {
            action(mdl);
            }

            fn.method(mdl);
            }
            else {
            fn.method();
            }
            }
            }
            };

            function userCtrl() {
            var instance;

            userCtrl = function () {
            return instance;
            }

            instance = this;

            this.login = function (options) {
            alert(options.model.email);
            }
            }

            var userModel = {
            login: function () {
            this.email;
            this.password;
            }
            }

            function contactCtrl($base) {
            var instance;

            contatctCtrl = function () {
            return instance;
            }

            this.search = function (options) {
            alert(options.model.name);
            }
            }

            var contactModel = {
            search: function () {
            this.name;
            }
            }

            var model = new userModel.login();

            $form.ctrl.login({
            model: model
            , success: function () {
            $viewModel.$email.clear();
            $viewModel.$password.clear();
            $viewModel.$email.focus();
            }
            , error: function () {
                                    
            }
            });
            */
//            window.onload = function () {
//                document.getElementById('TextArea1').onchange = function () {
//                    document.title = count;
//                    count++;
//                }
//                //                var value = document.getElementById('TextArea1').value;
//                //                debugger
//                //                document.getElementById('TextArea1').onblur = function () {
//                //                    if (value != this.value) {
//                //                        document.title = 'Change';
//                //                    }
//                //                    else {
//                //                        document.title = 'None';
//                //                    }
//                //                }
//            }
            /*
            function start(el) {
                var timer = 0;

                function animation() {
                    var left = parseInt(el.style.left) + 5;


                    if (left <= 100) {
                        el.style.left = left + 'px';
                        timer += 80;

                        setTimeout(animation, 20);
                    }
                    else {
                        console.log(timer);
                    }
                }

                animation();
                400
                20
                100
            }

            function teste(args) {
                testeste(arguments);
            }

            function testeste(args) {
                var string = '';

                for (var i = 0; i < args.length; i++) {
                    string = string.concat(args[i]);
                }

                console.log(string);
            }

            teste('1', '2', '3', '4', '5');

            function $classList(el) {
                this.add = function (args) {    
                    var className = el.className;

                    for (var i = 0; i < arguments.length; i++) {
                        className = className.concat(' ', arguments[i]);
                    }

                    el.className = className;
                }
            }

            Object.defineProperty(HTMLElement.prototype, 'classList2', {
                get: function () {
                    return new $classList(this);
                }
            });
            

            window.onload = function () {
                document.getElementById('e').classList2.add('teste3', 'teste2');

                var list = [];

                list.push({ col1: 'row 1 - col 1', col2: 'row 1 - col 2', col3: null });
                list.push({ col1: 'row 2 - col 1', col2: 'row 3 - col 2' });
                list.push({ col1: 'row 3 - col 1', col2: 'row 4 - col 2' });

                for (var propList in list[0]) {
                    console.log(propList);
                }

                if (typeof (list[0]['teste']) == 'undefined') {
                    document.writeln('certo');
                }

                document.writeln(typeof (list[0]['col3']));
            }*/
        </script>
    </head>
    <body>
        <div id="main">
        </div>
<!--        <div id="e" class="aqui teste">
            <input />
        </div>-->
        <textarea id="TextArea1" cols="20" rows="2"></textarea>
<!--        <div style="width:100px;height:100px;background-color:Gray;position:absolute;left:0px;" onclick="start(this);">
        </div>-->
    </body>
</html>