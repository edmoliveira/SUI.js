<!DOCTYPE html>
<html>
    <head>  
        <title>Form SUI.js</title>
        
        <link href="suiJS.css" rel="stylesheet" type="text/css" />

        <script src="suiJS.js"></script>
        <script src="suiJS.extends.js"></script>
        <style>
            .repeater
            {
                border:1px solid blue;
                width:350px;
                height:400px;
                overflow-y:auto;
            }
                
            .repeater > div
            {
                border-bottom: 1px solid blue;
            }
            
            .repeater > div:nth-child(even)
            {
                background-color:#cccccc;
            }                       
            
            .repeater > div:last-child
            {
                border-bottom: 0px solid blue;
            }       
            
            .cell
            {
                margin-top:4px;
                margin-bottom:4px;
            }
            
            .cellLabel
            {
                display:inline-block;
                width:100px;
                text-align:right;
                margin-right:4px;
                vertical-align:top;
            }     
            
            .cellInput
            {
                display:inline-block;
            }                           
        </style>
        <script>
            //https://microsoft.github.io/monaco-editor/index.html
                        

            $sui.extends.propertyValue.prototype.isValidFirstName = function () {
                var obj = this.__protoSui__;

                return obj.property != null && obj.fn.trim(obj.property).occur(' ') < 1;
            }

            $sui.ready(function () {
                $sui.loadForm('caduser', function ($form, $model) {
                    $model.pageLegends.header = 'SUI.js - Framework for building mobile and desktop web applications';
                    $model.pageLegends.footer = '© ' + new Date().getFullYear() + ' JENetwork ';

                    $model.legendYourName = 'Your Name:';
                    $model.firstName = 'George';
                    $model.lastName = 'Washington';
                    $model.wifeName = 'Martha Washington';

                    $model.country.add('--Choose--', -1);
                    $model.country.add('Canada', 0);
                    $model.country.add('United States of America', 1);
                    $model.country.add('Australia', 2);

                    $model.states.add('Connecticut', 1);
                    $model.states.add('Hawaii', 2);
                    $model.states.add('Idaho', 3);                                        

                    $model.parents.fatherName = 'Augustine Washington'
                    $model.parents.motherName = 'Mary Ball Washington'

                    $model.parents.children.firstChild = 'Samuel Washington'
                    $model.parents.children.secondChild = 'Lawrence Washington'

                    var collection = [];
                    var positionName = ['Point Guard', 'Shooting Guard', 'Small forward', 'Power Forward', 'Post'];
                    var iPosition = 0;

                    for (var index = 0; index < 1000; index++) {
                        var mdl = $model.team.createItem();

                        mdl.id = index;
                        mdl.playerName = 'Player ' + index;
                        mdl.playerPosition = positionName[iPosition];

                        $model.team.add(mdl);

                        iPosition++;

                        if (iPosition > 4) { iPosition = 0; }
                    }

                    $model.team.update(function (item) { return item.id == '1' }, function (item) {
                        item.playerName = "Player *";
                    });

                    var descrFriend = 'school;job;job'.split(';');

                    for (var index = 0; index < 3; index++) {
                        var mdl = $model.friends.createItem();

                        mdl.name = 'Friend ' + index;
                        mdl.description = descrFriend[index];

                        $model.friends.add(mdl)
                    }

                    $form.onChangeProperty = function ($sender, $propertyName, $oldValue, $newValue) {
                        return true;
                    }

                    contactForm($model.contact, $model.contact.$model);

                    $model.$firstName.focus();
                });

                function contactForm($form, $model) {
                    $model.name = '';
                    $model.phone = '';

                    $model._addContact.on('click', function () {
                        if ($form.ValidateForm()) {
                            var objList = $form.$parentForm.$model.contactList;

                            var mdl = objList.createItem();

                            mdl.name = $model.name;
                            mdl.phone = $model.phone;

                            objList.add(mdl);

                            $model.$name.clear();
                            $model.$phone.clear();
                            $model.$name.focus();
                        }
                    });

                    contactValidation($model);
                }

                function contactValidation($model) {
                    $model.$name.Validation = function (validForm) {
                        if ($model.$name.trim() == '') {
                            validForm.addWarning('Name is required');
                        }

                        if (!$model.$name.isValidFirstName()) {
                            validForm.addWarning('Name invalid');
                        }
                    };

                    $model.$phone.Validation = function (validForm) {
                        if ($model.$phone.trim() == '') {
                            validForm.addWarning('Phone is required');
                        }
                        else if (!$model.$phone.isValidPhoneBr()) {
                            validForm.addWarning('Phone invalid format');
                        }
                    };
                }
            });
        </script>
    </head>
    <body>
        <div sui-form="caduser">
            <h1 style="font-family: Arial, Helvetica, sans-serif; color: #CC0000; font-weight: bold"
                sui-value="$suiP.pageLegends.header">
            </h1>

            <h2 style="font-family: Arial, Helvetica, sans-serif; color: #0099FF; font-weight: bold"
                sui-value="$sui.firstName [$suiP.parents.fatherName] [$suiP.parents.motherName]">
            </h2>

            <div>
                <div class="cell cellLabel">
                    First Name: 
                </div>
                <div class="cell cellInput">
                    <tt sui-comp = "text" sui-prop="firstName" sui-mask="time" sui-tabIndex="0" sui-nextTabIndex="1" ></tt>
                </div>                
            </div>
            <div>
                <div class="cell cellLabel">
                    Last Name: 
                </div>
                <div class="cell cellInput">
                    <tt sui-comp = "text" sui-prop="lastName" sui-mask="time" sui-tabIndex="1" sui-nextTabIndex="2"></tt>
                </div>
            </div>
            <div>
                <div class="cell cellLabel">
                    Wife Name: 
                </div>
                <div class="cell cellInput">
                    <tt sui-comp = "text" sui-prop="wifeName" sui-mask="time" sui-tabIndex="2" sui-nextTabIndex="3"></tt>
                </div>
            </div>
            <div>
                <div class="cell cellLabel">
                    Country: 
                </div>
                <div class="cell cellInput">
                    <tt sui-comp = "select" sui-prop="country" sui-tabIndex="3" sui-nextTabIndex="4"></tt>
                </div>
            </div>
            <div>
                <div class="cell cellLabel">
                    State: 
                </div>
                <div class="cell cellInput">
                    <tt sui-comp = "selectMultiple" sui-prop="states" sui-tabIndex="4" sui-nextTabIndex="5" style="height:100px;width:180px"></tt>
                </div>
            </div>
            
            <h1 sui-value="$sui.legendYourName $sui.firstName $sui.lastName" ></h1>
            <h2 sui-value="Wife Name: $sui.wifeName" ></h2>

            <div sui-comp="custom" sui-prop="parents" sui-tabIndex="4" sui-nextTabIndex="5" style="border:1px solid red;">
                <div>
                    <div class="cell cellLabel">
                        Father Name: 
                    </div>
                    <div class="cell cellInput">
                        <tt sui-comp = "text" sui-prop="fatherName" sui-tabIndex="0" sui-nextTabIndex="1" ></tt>
                    </div>
                </div>
                <div>
                    <div class="cell cellLabel">
                        Mother Name: 
                    </div>
                    <div class="cell cellInput">
                        <tt sui-comp = "text" sui-prop="motherName" sui-tabIndex="1" sui-nextTabIndex="2" ></tt>
                    </div>
                </div>
                
                <h1 sui-value="Parents: $sui.fatherName and $sui.motherName" ></h1>

                <div sui-comp="custom" sui-prop="children" sui-tabIndex="2" sui-nextTabIndex="0">
                    <div>
                        <div class="cell cellLabel">
                            First Child: 
                        </div>
                        <div class="cell cellInput">
                            <tt sui-comp = "text" sui-prop="firstChild" sui-tabIndex="0" sui-nextTabIndex="1" ></tt>
                        </div>
                    </div>
                    <div>
                        <div class="cell cellLabel">
                            Second Child: 
                        </div>
                        <div class="cell cellInput">
                            <tt sui-comp = "text" sui-prop="secondChild" sui-tabIndex="1" sui-nextTabIndex="0" ></tt>
                        </div>
                    </div>
                    <h1 sui-value="Children: $sui.firstChild and $sui.secondChild" ></h1>
                </div>
            </div>
            <p></p>
            <tt sui-comp="repeater" sui-prop="friends" sui-tabIndex="5" sui-nextTabIndex="6">
                <div>
                    <div>
                        <div class="cell cellLabel">
                            Name: 
                        </div>
                        <div class="cell cellInput">
                            <tt sui-comp = "text" sui-prop="name" sui-tabIndex="0" sui-nextTabIndex="1" ></tt>
                        </div>
                    </div>
                    <div>
                        <div class="cell cellLabel">
                            Description: 
                        </div>
                        <div class="cell cellInput">
                            <tt sui-comp = "text" sui-prop="description" sui-tabIndex="1" sui-nextTabIndex="0" ></tt>
                        </div>
                    </div>
                    <h1 sui-value="Friend: $sui.name [$sui.description]" ></h1>
                </div>
            </tt>
            <p></p>
            <tt sui-comp="repeater" sui-prop="team" sui-tabIndex="6" sui-nextTabIndex="7" class="repeater">
                <label sui-value="$sui.id" style="display:none"></label>
                <label sui-value="$sui.playerName:"></label> &nbsp;
                <label sui-value="$sui.playerPosition"></label>
            </tt>
            <p></p>
            <div sui-comp="form" sui-prop="contact" style="border:1px solid red;width:290px;">  
                <p></p>
                <div>
                    <div class="cell cellLabel">
                        Name: 
                    </div>
                    <div class="cell cellInput">
                        <tt sui-comp = "text" sui-prop="name" sui-mask="time" sui-tabIndex="0" sui-nextTabIndex="1" ></tt>
                    </div>
                </div>      
                <div>
                    <div class="cell cellLabel">
                        Phone: 
                    </div>
                    <div class="cell cellInput">
                        <tt sui-comp = "text" sui-prop="phone" sui-mask="time" sui-tabIndex="1" sui-nextTabIndex="2" ></tt>
                    </div>
                </div> 
                <div style="padding:10px;text-align:right">
                    <button sui-comp="button" sui-prop="addContact" sui-tabIndex="2" sui-nextTabIndex="0" style="width:150px;height:40px;margin-right:10px;">Add</button>
                </div>  
                
            </div>
            <p></p>
            <tt sui-comp="repeater" sui-prop="contactList" sui-tabIndex="7" sui-nextTabIndex="0" class="repeater">
                <label sui-value="$sui.name:"></label> &nbsp;
                <label sui-value="$sui.phone"></label>
            </tt>
            <p></p>
            <div style="width:100%;text-align:center;">
                <h3 style="font-family: Arial, Helvetica, sans-serif; color: #006666;"
                    sui-value="$suiP.pageLegends.footer">
                </h3>
            </div>
        </div>

        <div sui-form="searchuser">

        </div>
    </body>
</html>